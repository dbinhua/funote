<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, shrink-to-fit=no">
    <title>写作中心</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <link rel="stylesheet" type="text/css" class="ui" href="../dist/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/Swiper/4.5.0/css/swiper.min.css" />
    <link rel="stylesheet" type="text/css" href="../statics/css/myapp.css" />
    <link rel="stylesheet" type="text/css" href="../statics/css/prism.css" />
    <link rel="stylesheet" type="text/css" href="../statics/css/simplemde.min.css">
</head>
<style>

</style>
<body>
<div class="container">
    <!--nav start-->
    <nav class="ui borderless menu top stackable" style="margin-bottom: 40px;">
        <div class="ui container">
            <div class="ui inline dropdown nav">
                <a href="index.html">
                    <img class="ui avatar image"  src="../imgs/logo.png">
                    <span><b>Funote</b></span>
                </a>
            </div>

            <a href="#" class="item secondary">工作笔记</a>
            <a href="#" class="item secondary">聊天室</a>
            <div class="ui simple item dropdown stackable secondary">
                IT风向标  <i class="dropdown icon"></i>

                <div class="ui menu stackable">
                    <a href="#" class="item">
                        <i class="icon home"></i> 测试分类
                    </a>
                </div>
            </div>

            <form class="ui fluid search item secondary" action="#" method="GET">
                <div class="ui icon input">
                    <input class="prompt" name="q" type="text" placeholder="搜索" autocomplete="off">
                    <i class="search icon"></i>
                </div>
                <div id="search-result"></div>
            </form>

            <div class="right menu stackable secondary">
                <!--                <div class="item">-->
                <!--                    <a onclick="login()" href="#"><i class="icon sign in"></i> 登录 </a>-->
                <!--                </div>-->

                <div class="ui simple item dropdown stackable nav-dropdown">
                    <img class="ui avatar image" src="../imgs/logo.png">
                    luci  <i class="dropdown icon"></i>
                    <div class="ui menu stackable">
                        <a href="#" class="item">
                            <i class="icon user"></i>
                            个人中心
                        </a>

                        <a  class="item no-pjax" href="javascript:void(0)" data-url="#" data-method="POST" data-prompt="您确定要退出登录吗？" title="退出登录">
                            <i class="icon sign out"></i>
                            退出
                        </a>
                    </div>
                </div>

            </div>

        </div>
    </nav>
    <!--nav end-->

    <div class="ui centered grid container stackable">
        <div class="twelve wide column stacked">
            <div class="ui segment">
                <div class="content">
                    <div class="ui header gery" style="margin:40px auto;text-align: center;color: grey">
                        新建文章
                    </div>

                    <form method="POST" action="#" class="ui form">
                        <input type="hidden" name="_token">

                        <div class="card" id="cover" style="float: right;">
                            <div class="blurring dimmable image">
                                <div class="ui dimmer">
                                    <div class="content">
                                        <div class="center">
                                            <input type="file" style="display: none" id="cover_file" name="cover">
                                            <div class="ui inverted button" onclick="upload_cover()">上传封面</div>
                                        </div>
                                    </div>
                                </div>
                                <img src="../imgs/default_cover.png" class="ui image rounded Medium" style="width: 300px;height: 175px" id="cover_img">
                            </div>
                        </div>

                        <div class="two fields">
                            <div class="field">
                                <label for="title">标题</label>
                                <input type="text" name="title" id="title" placeholder="标题">
                            </div>
                            <div class="field">
                                <label for="slug">别名</label>
                                <input type="text" name="slug" id="slug" placeholder="别名">
                            </div>
                        </div>

                        <div class="two fields">
                            <div class="field">
                                <label>属性</label>
                                <div class="ui fluid search selection dropdown" id="attr">
                                    <input type="hidden" name="attr">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">选择属性</div>
                                    <div class="menu">
                                        <div class="item" data-value="af">原创</div>
                                        <div class="item" data-value="ax">转载</div>
                                    </div>
                                </div>
                            </div>
                            <div class="field">
                                <label>分类</label>
                                <div class="ui fluid search selection dropdown" id="cates">
                                    <input type="hidden" name="cates">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">选择分类</div>
                                    <div class="menu">
                                        <div class="item" data-value="af">技术博客</div>
                                        <div class="item" data-value="ax">生活分享</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="field">
                            <label>标签</label>
                            <div class="ui fluid multiple search selection dropdown" id="tags">
                                <input type="hidden" name="tags">
                                <i class="dropdown icon"></i>
                                <div class="default text">选择标签（选填）</div>
                                <div class="menu">
                                    <div class="item" data-value="jenny" data-text="Jenny"> Jenny Hess </div>
                                    <div class="item" data-value="elliot" data-text="Elliot"> Elliot Fu </div>
                                    <div class="item" data-value="stevie" data-text="Stevie"> Stevie Feliciano </div>
                                    <div class="item" data-value="christian" data-text="Christian"> Christian </div>
                                    <div class="item" data-value="matt" data-text="Matt"> Matt </div>
                                    <div class="item" data-value="justen" data-text="Justen"> Justen Kitsune </div>
                                </div>
                            </div>
                        </div>

                        <div class="field">
                            <label>摘要</label>
                            <textarea rows="2"></textarea>
                        </div>

                        <div class="field">
                            <textarea rows="15" id="body-field" name="body"></textarea>
                        </div>

                        <div class="inline field">
                            <div class="ui toggle checkbox" id="is_top">
                                <input type="checkbox" tabindex="0" class="hidden">
                                <label>是否置顶</label>
                            </div>
                        </div>

                        <div contenteditable="true"></div>

                        <div class="ui message">
                            <button type="submit" class="ui button primary">
                                <i class="icon send"></i>发布文章
                            </button>
                            &nbsp;&nbsp;or&nbsp;&nbsp;
                            <button type="submit" class="ui button" name="subject" value="draft">
                                <i class="icon save"></i> 保存草稿
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- footer start -->
    <div class="ui inverted vertical segment" style="padding-top: 6em;padding-bottom: 6em;margin-top: 4em;background: #000">
        <div class="ui center aligned container">
            <div class="ui stackable inverted divided grid">
                <div class="five wide column">
                    <h4 class="ui inverted header">关于</h4>
                    <div class="ui inverted link list">
                        <span class="item">蜀ICP备18023940号-1</span>
                        <span class="item">&copy 2018-2019</span>
                        <span class="item">Design By Lucius</span>
                    </div>
                </div>
                <div class="five wide column">
                    <h4 class="ui inverted header">统计信息</h4>
                    <div class="ui inverted link list">
                        <span class="item">当前在线人数：34</span>
                        <span class="item">历史访问人数：566</span>
                    </div>
                </div>
                <div class="five wide column">
                    <h4 class="ui inverted header">联系方式</h4>
                    <div class="ui inverted link list">
                        <a href="#" class="item"><i class="weibo icon"></i>&nbsp;&nbsp;微博</a>
                        <a href="#" class="item"><i class="qq icon"></i>&nbsp;&nbsp;QQ</a>
                        <a href="#" class="item"><i class="mail icon"></i>&nbsp;&nbsp;邮件</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- footer end -->
</div>
</body>
<!------ 登录弹层 start ------>
<div class="ui mini modal">
    <i class="close icon"></i>
    <div class="five wide column">
        <div class="ui blue padded segment">
            <div class="content">
                <h3 style="text-align: center">登录</h3>

                <div class="ui divider"></div>

                <div class="ui message warning">
                    <i class="icon info"></i> 本站暂不开放注册哦～
                </div>

                <form class="ui form" role="form" method="POST" action="" accept-charset="UTF-8">
                    <input type="hidden" name="remember" value="yes">
                    <input type="hidden" name="return_back" value="no">

                    <div class="field">
                        <div class="ui left icon input">
                            <i class="user icon"></i>
                            <input type="text" name="email" placeholder="请输入注册邮箱" value="">
                        </div>
                    </div>
                    <div class="field">
                        <div class="ui left icon input">
                            <i class="lock icon"></i>
                            <input type="password" name="password" placeholder="请输入密码" value="">
                        </div>
                    </div>
                    <button class="ui blue icon button fluid"> 登录 </button>
                    <!--                    <div style="margin-top: 1rem;text-align: right">-->
                    <!--                        <a href="#" target="_blank">-->
                    <!--                            忘记密码?-->
                    <!--                        </a>-->
                    <!--                    </div>-->

                    <div class="ui horizontal divider fs-tiny text-mute">
                        第三方账号登录
                    </div>
                    <a class="ui red fluid button" href="#"><i class="weibo icon"></i> 微博 </a>
                </form>
            </div>
        </div>
    </div>
</div>
<!------ 登录弹层 end ------>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="../statics/js/prism.js"></script>
<script src="../statics/js/simplemde.min.js"></script>
<script src="../dist/semantic.min.js"></script>


<script type="text/javascript">
    $(function() {
        $("#cover_file").on('change',function(){
            var objUrl = getObjectURL(this.files[0]);
            if (objUrl) {
                $("#cover_img").attr("src", objUrl);
            }
        });

        $('.ui.form').form({
            fields: {
                title : 'empty',
                slug : 'regExp[/^[a-z0-9_-]$/]'
            }
        });
    });

    $('.menu .item').tab();
    $('#tags').dropdown();
    $('#cates').dropdown();
    $('#attr').dropdown();
    $('#is_top').checkbox();
    $('#cover .image').dimmer({on: 'hover'});

    function login() {
        $('.ui.mini.modal').modal({blurring: true}).modal('show');
    }

    var simplemde = new SimpleMDE({
        toolbar: ["bold", "italic", "heading", "|", "quote", "code", "table", "unordered-list", "ordered-list", "|", "link", "image", "|", "side-by-side", "fullscreen"],
        autosave: {
            enabled: true,
            uniqueId: "article-unique-id",
            delay: 15000,
        },
        element: $('#body-field')[0]
    });

    function upload_cover() {
        $("#cover_file").click();
    }

    function getObjectURL(file) {
        var url = null ;
        if (window.createObjectURL != undefined) {
            url = window.createObjectURL(file);
        } else if (window.URL != undefined) {
            url = window.URL.createObjectURL(file);
        } else if (window.webkitURL != undefined) {
            url = window.webkitURL.createObjectURL(file);
        }
        return url ;
    }
</script>
</html>

